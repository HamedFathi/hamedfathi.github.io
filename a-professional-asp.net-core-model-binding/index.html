<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>A Professional ASP.NET Core - Model Binding - Hamed Fathi&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hamed Fathi&#039;s Blog"><meta name="msapplication-TileImage" content="/img/pic.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hamed Fathi&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Controllers and Razor pages work with data that comes from HTTP requests. For example, route data may provide a record key, and posted form fields may provide values for the properties of the model. W"><meta property="og:type" content="blog"><meta property="og:title" content="A Professional ASP.NET Core - Model Binding"><meta property="og:url" content="https://hamedfathi.github.io/a-professional-asp.net-core-model-binding/"><meta property="og:site_name" content="Hamed Fathi&#039;s Blog"><meta property="og:description" content="Controllers and Razor pages work with data that comes from HTTP requests. For example, route data may provide a record key, and posted form fields may provide values for the properties of the model. W"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://hamedfathi.github.io/images/a-professional-asp.net-core-model-binding/postman.png"><meta property="article:published_time" content="2020-10-10T00:00:00.000Z"><meta property="article:modified_time" content="2023-07-28T08:36:42.662Z"><meta property="article:author" content="Hamed Fathi"><meta property="article:tag" content="dotnet"><meta property="article:tag" content="aspnetcore"><meta property="article:tag" content="webapi"><meta property="article:tag" content="model"><meta property="article:tag" content="binding"><meta property="article:tag" content="modelbinding"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://hamedfathi.github.io/images/a-professional-asp.net-core-model-binding/postman.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hamedfathi.github.io/a-professional-asp.net-core-model-binding/"},"headline":"A Professional ASP.NET Core - Model Binding","image":["https://hamedfathi.github.io/images/a-professional-asp.net-core-model-binding/postman.png"],"datePublished":"2020-10-10T00:00:00.000Z","dateModified":"2023-07-28T08:36:42.662Z","author":{"@type":"Person","name":"Hamed Fathi"},"publisher":{"@type":"Organization","name":"Hamed Fathi's Blog","logo":{"@type":"ImageObject"}},"description":"Controllers and Razor pages work with data that comes from HTTP requests. For example, route data may provide a record key, and posted form fields may provide values for the properties of the model. W"}</script><link rel="canonical" href="https://hamedfathi.github.io/a-professional-asp.net-core-model-binding/"><link rel="icon" href="/img/pic.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Hamed Fathi&#039;s Blog</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hamedfathi"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-10-10T00:00:00.000Z" title="10/10/2020, 12:00:00 AM">2020-10-10</time></span><span class="level-item"><a class="link-muted" href="/categories/aspnetcore/">aspnetcore</a></span></div></div><h1 class="title is-3 is-size-4-mobile">A Professional ASP.NET Core - Model Binding</h1><div class="content"><p>Controllers and Razor pages work with data that comes from HTTP requests. For example, route data may provide a record key, and posted form fields may provide values for the properties of the model. Writing code to retrieve each of these values and convert them from strings to .NET types would be tedious and error-prone. Model binding automates this process. The <code>model binding</code> system:</p>
<ul>
<li>Retrieves data from various sources such as route data, form fields, and query strings.</li>
<li>Provides the data to controllers and Razor pages in method parameters and public properties.</li>
<li>Converts string data to .NET types.</li>
<li>Updates properties of complex types.</li>
</ul>
<span id="more"></span>

<h2 id="HTTP-Request"><a href="#HTTP-Request" class="headerlink" title="HTTP Request"></a>HTTP Request</h2><p>HTTP is one of the many protocols (strategies of communication) used to transfer data from one machine to another across the internet. It is the protocol that browsers primarily use to communicate with websites.</p>
<p>For instance, when you go to <code>www.wikipedia.org</code>, an HTTP request is created and transmitted to Wikipedia’s servers, which in turn render and transmit an HTTP response back to the browser.<br>The HTTP protocol is a “text-based protocol”, which means that this strategy uses human-readable characters as its means of communication.</p>
<p>An HTTP request defines the following:</p>
<ul>
<li><strong>Method</strong> (required) — (Example: GET)</li>
<li><strong>Host</strong> (required) — (Example: <code>www.hamedfathi.me</code>)</li>
<li><strong>Path</strong> (required) —(Example: /search)</li>
<li><strong>HTTP version</strong> (required) — (Example: HTTP/2)</li>
<li><strong>Headers</strong> (optional) — (Example: Content-Type: application/json)</li>
<li><strong>Query</strong> String (optional) — (Example: ?q=test)</li>
<li><strong>Body</strong> (optional) — (Example: {“q”: “test”})</li>
</ul>
<h2 id="Model-Binding-Sources"><a href="#Model-Binding-Sources" class="headerlink" title="Model Binding Sources"></a>Model Binding Sources</h2><p>By default, model binding gets data in the form of key-value pairs from the following sources in an HTTP request (<strong>in order</strong>):</p>
<table>
<thead>
<tr>
<th align="center">Order</th>
<th>Approach</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td>Form fields</td>
</tr>
<tr>
<td align="center">2</td>
<td>The request body (For <code>controllers</code> that have the <code>[ApiController]</code> attribute.)</td>
</tr>
<tr>
<td align="center">3</td>
<td>Route data</td>
</tr>
<tr>
<td align="center">4</td>
<td>Query string parameters</td>
</tr>
<tr>
<td align="center">5</td>
<td>Uploaded files</td>
</tr>
</tbody></table>
<p>Therefore, model binding engine will try to use any of the above sources that are available in order, unless you refer to a specific source</p>
<p>For each target parameter or property, the sources are scanned in the order indicated in the preceding list. There are a few exceptions:</p>
<ul>
<li>Route data and query string values are used <code>only</code> for simple types.</li>
<li>Uploaded files are bound <code>only</code> to target types that implement <code>IFormFile</code> or <code>IEnumerable&lt;IFormFile&gt;</code>.</li>
</ul>
<p>If the default source is not sufficient or is not what you want, use one of the following attributes to specify the source:</p>
<p><strong>Override binding source</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[FromQuery]</td>
<td>Gets values from the URL query string.</td>
</tr>
<tr>
<td>[FromRoute]</td>
<td>Gets values from route data.</td>
</tr>
<tr>
<td>[FromForm]</td>
<td>Gets values from posted form fields. (via HTTP POST)</td>
</tr>
<tr>
<td>[FromBody]</td>
<td>Gets values from the request body, based on configured formatter (e.g. JSON, XML). Only one action parameter can have this attribute.</td>
</tr>
<tr>
<td>[FromHeader]</td>
<td>Gets values from HTTP headers.</td>
</tr>
<tr>
<td>[FromServices]</td>
<td>Gets values from DI.</td>
</tr>
</tbody></table>
<p><strong>Override binding behavior</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[Bind]</td>
<td>Specifies which properties of a model should be included in model binding.</td>
</tr>
<tr>
<td>[BindRequired]</td>
<td>Add model state error if binding fails.</td>
</tr>
<tr>
<td>[BindNever]</td>
<td>Ignore the binding of parameter.</td>
</tr>
</tbody></table>
<p><strong>Supply custom binding</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[ModelBinder]</td>
<td>provide custom model binder.</td>
</tr>
</tbody></table>
<h2 id="Model-Binding-for-Simple-Types"><a href="#Model-Binding-for-Simple-Types" class="headerlink" title="Model Binding for Simple Types"></a>Model Binding for Simple Types</h2><p>When Binding Simple Types the framework convert the values into the types of action method’s arguments. The Simple Types are: <code>Boolean</code>, <code>Byte</code>, <code>SByte</code>, <code>Char</code>, <code>DateTime</code>, <code>DateTimeOffset</code>, <code>Decimal</code>, <code>Double</code>, <code>Enum</code>, <code>Guid</code>, <code>Int16</code>, <code>Int32</code>, <code>Int64</code>, <code>Single</code>, <code>TimeSpan</code>, <code>UInt16</code>, <code>UInt32</code>, <code>UInt64</code>, <code>Uri</code>, <code>Version</code>.</p>
<h2 id="Model-Binding-for-Complex-Types"><a href="#Model-Binding-for-Complex-Types" class="headerlink" title="Model Binding for Complex Types"></a>Model Binding for Complex Types</h2><p>When the argument of the action method is a <code>complex type like a class object</code> then Model Binding process gets all the <code>public properties</code> of the complex type and performs the <code>binding for each of them</code>.</p>
<h2 id="Default-Binding-Values"><a href="#Default-Binding-Values" class="headerlink" title="Default Binding Values"></a>Default Binding Values</h2><p>You may wonder what will happen if ASP.NET Core framework does not find the values of the action method’s argument in any of the three locations – <code>Form data values</code>, <code>Routing variables</code> &amp; <code>Query strings</code>. In that case it will provide the default values based on the type of the action method’s argument. These are:</p>
<ul>
<li>For <code>value types</code>, the value will be <code>default(T)</code></li>
<li><code>0</code> for <code>int</code>, <code>float</code>, <code>decimal</code>, <code>double</code>, <code>byte</code>.</li>
<li><code>01-01-0001 00:00:00</code> for <code>DateTime</code>.</li>
<li>Nullable simple types are set to <code>null</code>.</li>
<li><code>Nullable types</code> are <code>null</code>.</li>
<li><code>null</code> for <code>string</code>.</li>
<li>For <code>complex Types (reference types)</code>, model binding creates an instance by using the default constructor, without setting properties.</li>
<li>Arrays are set to <code>Array.Empty&lt;T&gt;()</code>, except that <code>byte[]</code> arrays are set to <code>null</code>.</li>
</ul>
<h2 id="Form-fields"><a href="#Form-fields" class="headerlink" title="Form fields"></a>Form fields</h2><p>A <code>ProductEditModel</code> object, which contains the details of the product that needs to be created or edited.</p>
<p><strong>View model</strong></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// ProductEditModel.cs</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ProductEditModel</span><br>&#123;<br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Id &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Rate &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Rating &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>A <code>form</code> is created to which contains three form fields. <code>Name</code>, <code>Rate</code> and <code>Rating</code>.</p>
<p>There are three ways front of us:</p>
<p><strong>Standard HTML</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html">@model ProductEditModel<br>@&#123;<br>    Layout = &quot;_Layout&quot;;<br>    ViewData[&quot;Title&quot;] = &quot;Index&quot;;<br>&#125;<br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Product<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/Home/Create&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Name&quot;</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Name&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rate&quot;</span>&gt;</span>Rate<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rate&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rating&quot;</span>&gt;</span>Rating<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rating&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>HTML Helper</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html">@model ProductEditModel<br>@&#123;<br>    Layout = &quot;_Layout&quot;;<br>    ViewData[&quot;Title&quot;] = &quot;Index&quot;;<br>&#125;<br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Product<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br>@using (Html.BeginForm(&quot;Create&quot;, &quot;Home&quot;, FormMethod.Post))<br>&#123;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Name&quot;</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Name&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rate&quot;</span>&gt;</span>Rate<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rate&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rating&quot;</span>&gt;</span>Rating<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rating&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>Tag Helper</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html">@model ProductEditModel<br>@&#123;<br>    Layout = &quot;_Layout&quot;;<br>    ViewData[&quot;Title&quot;] = &quot;Index&quot;;<br>&#125;<br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Product<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">asp-controller</span>=<span class="hljs-string">&quot;Home&quot;</span> <span class="hljs-attr">asp-action</span>=<span class="hljs-string">&quot;Create&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Name&quot;</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Name&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rate&quot;</span>&gt;</span>Rate<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rate&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rating&quot;</span>&gt;</span>Rating<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rating&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>Route Tag Helper</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html">@model ProductEditModel<br>@&#123;<br>    Layout = &quot;_Layout&quot;;<br>    ViewData[&quot;Title&quot;] = &quot;Index&quot;;<br>&#125;<br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Product<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">asp-route</span>=<span class="hljs-string">&quot;MyCreateRoute&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Name&quot;</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Name&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rate&quot;</span>&gt;</span>Rate<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rate&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;Rating&quot;</span>&gt;</span>Rating<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Rating&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>If you use above approach, you must set below attribute to your action:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">Route(<span class="hljs-meta-string">&quot;/Home/Create&quot;</span>, Name = <span class="hljs-meta-string">&quot;MyCreateRoute&quot;</span>)</span>]<br></code></pre></td></tr></table></figure>

<p><strong>Action</strong></p>
<p>The <code>Create</code> action method in the <code>HomeController</code>.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">HttpPost</span>]<br><span class="hljs-comment">// Just for &#x27;Route Tag Helper&#x27; approach</span><br><span class="hljs-comment">// [Route(&quot;/Home/Create&quot;, Name = &quot;MyCreateRoute&quot;)]</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Create</span>(<span class="hljs-params">ProductEditModel model</span>)</span><br>&#123;<br>    <span class="hljs-built_in">string</span> message = <span class="hljs-string">&quot;&quot;</span>;<br> <br>    <span class="hljs-keyword">if</span> (ModelState.IsValid)<br>    &#123;<br>        message = <span class="hljs-string">&quot;product &quot;</span> + model.Name + <span class="hljs-string">&quot; created successfully&quot;</span> ;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        message = <span class="hljs-string">&quot;Failed to create the product. Please try again&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> Content(message);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Now, When you click on the <code>submit</code> button your form information will be sent to the <code>Create</code> action and binds to the <code>ProductEditModel</code> model based on its <code>public properties</code> and corresponding HTML <code>name</code> tags.</p>
<h2 id="Request-body"><a href="#Request-body" class="headerlink" title="Request body"></a>Request body</h2><p><code>Request Body</code> is the part of the HTTP Request where additional content can be sent to the server.</p>
<p>You can use <code>Postman</code> to test this approach easily.</p>
<p><img src="/images/a-professional-asp.net-core-model-binding/postman.png"></p>
<p><strong>Request body message</strong></p>
<p>Our <code>ProductEditModel</code> model to create:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// POST http://localhost:PORT/Home/Create</span><br><span class="hljs-comment">// Body &gt; raw</span><br><br>&#123;<br>  <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;hamed&quot;</span>,<br>  <span class="hljs-string">&quot;rate&quot;</span>: <span class="hljs-number">20.0</span>,<br>  <span class="hljs-string">&quot;rating&quot;</span>: <span class="hljs-number">100</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>MVC</strong></p>
<p>If you are using a <code>MVC</code> application, you must add <code>[FromBody]</code> on your <code>model</code>.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">HttpPost</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Create</span>(<span class="hljs-params">[FromBody] ProductEditModel model</span>)</span><br>&#123;<br>    <span class="hljs-built_in">string</span> message = <span class="hljs-string">&quot;&quot;</span>;<br><br>    <span class="hljs-keyword">if</span> (ModelState.IsValid)<br>    &#123;<br>        message = <span class="hljs-string">&quot;product &quot;</span> + model.Name + <span class="hljs-string">&quot; created successfully&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        message = <span class="hljs-string">&quot;Failed to create the product. Please try again&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> Content(message);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>API</strong></p>
<p>If you are using an <code>API</code> application, you must add <code>[ApiController]</code> on your <code>controller</code>.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">ApiController</span>]<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HomeController</span> : <span class="hljs-title">ControllerBase</span><br>&#123;<br>    [<span class="hljs-meta">HttpPost</span>]<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Create</span>(<span class="hljs-params">ProductEditModel model</span>)</span><br>    &#123;<br>        <span class="hljs-built_in">string</span> message = <span class="hljs-string">&quot;&quot;</span>;<br><br>        <span class="hljs-keyword">if</span> (ModelState.IsValid)<br>        &#123;<br>            message = <span class="hljs-string">&quot;product &quot;</span> + model.Name + <span class="hljs-string">&quot; created successfully&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            message = <span class="hljs-string">&quot;Failed to create the product. Please try again&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> Content(message);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Route-data"><a href="#Route-data" class="headerlink" title="Route data"></a>Route data</h2><p><code>Route values</code> obtain from <code>URL segments</code> or through default values after<br>matching a route.</p>
<p><strong>Using optional and default values</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">api/&#123;controller&#125;/&#123;action=index&#125;/&#123;id?&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>api</code>: A literal segment.</li>
<li><code>&#123;controller&#125;</code>: A requierd route parameter.</li>
<li><code>&#123;action=index&#125;</code> An optional route parameter with default value if not provided.</li>
<li><code>&#123;id?&#125;</code>: An optional route parameter.</li>
</ul>
<p><strong>Note:</strong> A <code>segment</code> is a small contiguous section of a URL. It’s separated from other URL segments by at least one character, often by the <code>/</code> character. e.g. <code>&#123;id&#125;</code> and <code>&#123;dogsOnly&#125;</code> in below example.</p>
<p>Suppose you have the following action method:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">HttpGet(<span class="hljs-meta-string">&quot;&#123;id&#125;/&#123;dogsOnly&#125;&quot;</span>)</span>] <span class="hljs-comment">// Route</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult&lt;Pet&gt; <span class="hljs-title">GetById</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id, <span class="hljs-built_in">bool</span> dogsOnly</span>)</span> &#123;&#125;<br></code></pre></td></tr></table></figure>

<p>And the app receives a request with this URL:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">http://example.com/api/pets/2/true<br></code></pre></td></tr></table></figure>

<p>Model binding goes through the following steps after the routing system selects the action method:</p>
<ul>
<li>Finds the first parameter of <code>GetByID</code>, an integer named id.</li>
<li>Looks through the available sources in the HTTP request and finds <code>id = &quot;2&quot;</code> in route data.</li>
<li>Converts the string “2” into integer 2.</li>
<li>Finds the second parameter of <code>GetByID</code>, an boolean named dogsOnly.</li>
<li>Looks through the available sources in the HTTP request and finds <code>dogsOnly = &quot;true&quot;</code> in route data.</li>
<li>Converts the string “true” into boolean true.</li>
</ul>
<p><strong>Complex types</strong></p>
<p>You are able to write route binding for complex type as following:</p>
<p>Create a model binding class</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DetailsQuery</span><br>&#123;<br>  [<span class="hljs-meta">Required</span>]<br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span>? ClockNumber &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>  [<span class="hljs-meta">Required</span>]<br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span>? YearFrom &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>  [<span class="hljs-meta">Required</span>]<br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span>? YearTo &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>  [<span class="hljs-meta">FromQuery</span>] <span class="hljs-comment">// From query string</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> CheckHistoricalFlag &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125; = <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>The action is</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// http://localhost:PORT/api/employees/10/calendar/1966/2009?checkhistoricalflag=true</span><br><br>[<span class="hljs-meta">HttpGet(<span class="hljs-meta-string">&quot;/api/employees/&#123;clockNumber:int&#125;/calendar/&#123;yearFrom:int&#125;/&#123;yearTo:int&#125;&quot;</span>)</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult <span class="hljs-title">Get</span>(<span class="hljs-params">[FromRoute] DetailsQuery query</span>)</span><br>&#123;<br>  <span class="hljs-keyword">return</span> Ok();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>As you can see the binding engine can map each of <code>DetailsQuery</code> properties from URL segments.</p>
<p><strong>Constraints</strong></p>
<p>You can apply a large number of route constraints to route templates to ensure that route values are convertible to appropriate types. </p>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Example</th>
<th>Match examples</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>{count:int}</td>
<td>678, -890, 0</td>
<td>Matches any integer</td>
</tr>
<tr>
<td>decimal</td>
<td>{rate:decimal}</td>
<td>12.3, 88, -5.005</td>
<td>Matches any decimal value</td>
</tr>
<tr>
<td>Guid</td>
<td>{id:guid}</td>
<td>48ac5fbd-fd24-43b5-a742-6aab7fad67f9</td>
<td>Matches any Guid</td>
</tr>
<tr>
<td>min(value)</td>
<td>{age:min(22)}</td>
<td>18, 20, 21</td>
<td>Matches integer values of 22 or greater</td>
</tr>
<tr>
<td>length(value)</td>
<td>{name:length(7)}</td>
<td>hamed, fathi, 12345</td>
<td>Matches string values with a length of 7</td>
</tr>
<tr>
<td>optional int</td>
<td>{count:int?}</td>
<td>456, -222, 0, null</td>
<td>Optionally matches any integer</td>
</tr>
<tr>
<td>optional int max(value)</td>
<td>{count:int:max(15)?}</td>
<td>7, -660, 0, null</td>
<td>Optionally matches any integer of 15 or less</td>
</tr>
</tbody></table>
<h2 id="Query-strings"><a href="#Query-strings" class="headerlink" title="Query strings"></a>Query strings</h2><p>URL’s are made up of several parts, like protocol, hostname, path and so on. The query string is the part of the URL that comes <code>after a question-mark</code> character. So, in a URL like this:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">https://www.google.com/search?q=test&amp;oq=hello<br></code></pre></td></tr></table></figure>

<p>Everything after the <code>?</code> character is considered the query string. The query strings are separated by <code>&amp;</code>. In this case, there are two parameters: One called <code>q</code> and one called <code>oq</code>. They have the values “test” and “hello”. These would be relevant to the page displayed by the URL.</p>
<p>So, <code>Query string values</code> pass at the end of the URL, not used during routing.</p>
<p><strong>Simple type</strong></p>
<p>Write an action</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// HomeController.cs</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HomeController</span> : <span class="hljs-title">Controller</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">QueryS1</span>(<span class="hljs-params"><span class="hljs-built_in">float</span> a, <span class="hljs-built_in">string</span> b, <span class="hljs-built_in">bool</span> c</span>)</span><br>    &#123;<br>        <span class="hljs-comment">// ...</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>You can send your values to model binding engine via query string as following</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">GET: http://localhost:PORT/Home/QueryS1?a=1.1&amp;b=hamed&amp;c=true<br></code></pre></td></tr></table></figure>

<p><strong>Complex type</strong></p>
<p>Create a view model</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">User</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> Id &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> DateTime BirthDate &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Pass it to your action</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// HomeController.cs</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HomeController</span> : <span class="hljs-title">Controller</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">QueryS2</span>(<span class="hljs-params">User user</span>)</span><br>    &#123;<br>        <span class="hljs-comment">// ...</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Call it by query strings</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cs">GET: http:<span class="hljs-comment">//localhost:PORT/Home/QueryS2?id=1&amp;name=hamed&amp;birthdate=1980-09-10</span><br></code></pre></td></tr></table></figure>

<p><strong>Collections</strong></p>
<p>Suppose the parameter to be bound is an array named <code>selectedCourses</code>:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">OnPost</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>? id, <span class="hljs-built_in">int</span>[] selectedCourses</span>)</span><br></code></pre></td></tr></table></figure>

<p>Query string data can be in one of the following formats:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html">selectedCourses=1050&amp;selectedCourses=2000 <br><br>selectedCourses[0]=1050&amp;selectedCourses[1]=2000<br><br>[0]=1050&amp;[1]=2000<br><br>selectedCourses[a]=1050&amp;selectedCourses[b]=2000&amp;selectedCourses.index=a&amp;selectedCourses.index=b<br><br>[a]=1050&amp;[b]=2000&amp;index=a&amp;index=b<br></code></pre></td></tr></table></figure>

<p><strong>Dictionaries</strong></p>
<p>Suppose the target parameter is a <code>Dictionary&lt;int, string&gt;</code> named <code>selectedCourses</code>:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">OnPost</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>? id, Dictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt; selectedCourses</span>)</span><br></code></pre></td></tr></table></figure>

<p>Query string data can look like one of the following examples:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html">selectedCourses[1050]=Chemistry&amp;selectedCourses[2000]=Economics<br><br>[1050]=Chemistry&amp;selectedCourses[2000]=Economics<br><br>selectedCourses[0].Key=1050&amp;selectedCourses[0].Value=Chemistry&amp;<br>selectedCourses[1].Key=2000&amp;selectedCourses[1].Value=Economics<br><br>[0].Key=1050&amp;[0].Value=Chemistry&amp;[1].Key=2000&amp;[1].Value=Economics<br></code></pre></td></tr></table></figure>

<h2 id="Uploaded-files"><a href="#Uploaded-files" class="headerlink" title="Uploaded files"></a>Uploaded files</h2><p>ASP.NET Core supports uploading files by exposing the <code>IFormFile</code> interface. You can use this interface as a method parameter to your action method and it will be populated with the details of the file upload:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">UploadFile</span>(<span class="hljs-params">IFormFile file</span>)</span> &#123;&#125;<br></code></pre></td></tr></table></figure>

<p>You can also use an <code>IEnumerable&lt;IFormFile&gt;</code> if your action method accepts multiple files:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">UploadFiles</span>(<span class="hljs-params">IEnumerable&lt;IFormFile&gt; files</span>)</span> &#123;&#125;<br></code></pre></td></tr></table></figure>

<p>The <code>IFormFile</code> object exposes several properties and utility methods for reading the contents of the uploaded file:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IFormFile</span><br>&#123;<br>    <span class="hljs-built_in">string</span> ContentType &#123; <span class="hljs-keyword">get</span>; &#125;<br>    <span class="hljs-built_in">string</span> ContentDisposition &#123; <span class="hljs-keyword">get</span>; &#125;<br>    IHeaderDictionary Headers &#123; <span class="hljs-keyword">get</span>; &#125;<br>    <span class="hljs-built_in">long</span> Length &#123; <span class="hljs-keyword">get</span>; &#125;<br>    <span class="hljs-built_in">string</span> Name &#123; <span class="hljs-keyword">get</span>; &#125;<br>    <span class="hljs-built_in">string</span> FileName &#123; <span class="hljs-keyword">get</span>; &#125;<br>    <span class="hljs-function">Stream <span class="hljs-title">OpenReadStream</span>(<span class="hljs-params"></span>)</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CopyTo</span>(<span class="hljs-params">Stream target</span>)</span>;<br>    <span class="hljs-function">Task <span class="hljs-title">CopyToAsync</span>(<span class="hljs-params">Stream target, CancellationToken cancellationToken = <span class="hljs-literal">null</span></span>)</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Now, Create a file input control</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span> <span class="hljs-attr">asp-controller</span>=<span class="hljs-string">&quot;FileUpload&quot;</span> <span class="hljs-attr">asp-action</span>=<span class="hljs-string">&quot;Index&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-10&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Upload one or more files using this form:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;files&quot;</span> <span class="hljs-attr">multiple</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-10&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Upload&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>When uploading files using model binding and the <code>IFormFile</code> interface, the action method can accept either a single <code>IFormFile</code> or an <code>IEnumerable&lt;IFormFile&gt;</code> representing multiple files. We can loop through one or more uploaded files, save them to the local file system and then use the files as per our application’s logic:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FileUploadController</span> : <span class="hljs-title">Controller</span><br>&#123;<br>    [<span class="hljs-meta">HttpPost(<span class="hljs-meta-string">&quot;FileUpload&quot;</span>)</span>]<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Index</span>(<span class="hljs-params">List&lt;IFormFile&gt; files</span>)</span><br>    &#123;<br>        <span class="hljs-built_in">long</span> size = files.Sum(f =&gt; f.Length);<br>                        <br>        <span class="hljs-keyword">var</span> filePaths = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> formFile <span class="hljs-keyword">in</span> files)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (formFile.Length &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-comment">// full path to file in temp location</span><br>                <span class="hljs-keyword">var</span> filePath = Path.GetTempFileName(); <span class="hljs-comment">//we are using Temp file name just for the example. Add your own file path.</span><br>                filePaths.Add(filePath);<br><br>                <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> stream = <span class="hljs-keyword">new</span> FileStream(filePath, FileMode.Create))<br>                &#123;<br>                    <span class="hljs-keyword">await</span> formFile.CopyToAsync(stream);<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// process uploaded files</span><br>        <span class="hljs-comment">// Don&#x27;t rely on or trust the FileName property without validation.</span><br>        <span class="hljs-keyword">return</span> Ok(<span class="hljs-keyword">new</span> &#123; count = files.Count, size, filePaths &#125;);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="A-Specific-binding-source"><a href="#A-Specific-binding-source" class="headerlink" title="A Specific binding source"></a>A Specific binding source</h2><p>By default the ASP.NET Core model binder will attempt to bind all action method parameters from different binding sources.</p>
<p>Occasionally, you may find it necessary to specifically declare which binding source to bind to, but in other cases, these sources won’t be sufficient. The most common scenarios are when you want to bind a method parameter to a request header value, or when the body of a request contains JSON-formatted data that you want to bind to a parameter. In these cases, you can decorate your action method parameters (or binding model class properties) with attributes that say where to bind from, as shown here</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// GET: http://localhost:PORT/User/GetUserInfo/hamed?age=32</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span><br>&#123;<br>    [<span class="hljs-meta">Route(<span class="hljs-meta-string">&quot;&#123;controller&#125;/&#123;action&#125;/&#123;name&#125;&quot;</span>)</span>]<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">GetUserInfo</span>(<span class="hljs-params"></span></span><br><span class="hljs-params"><span class="hljs-function"></span></span><br><span class="hljs-params"><span class="hljs-function">    // This will be bound <span class="hljs-keyword">from</span> an HTTP header <span class="hljs-keyword">in</span> the request.</span></span><br><span class="hljs-params"><span class="hljs-function">    [FromHeader] <span class="hljs-built_in">string</span> userId,</span></span><br><span class="hljs-params"><span class="hljs-function"></span></span><br><span class="hljs-params"><span class="hljs-function">    // This will be bound <span class="hljs-keyword">from</span> the route. <span class="hljs-string">&#x27;&#123;name&#125;&#x27;</span></span></span><br><span class="hljs-params"><span class="hljs-function">    [FromRoute] <span class="hljs-built_in">string</span> name,</span></span><br><span class="hljs-params"><span class="hljs-function"></span></span><br><span class="hljs-params"><span class="hljs-function">    // This will be bound <span class="hljs-keyword">from</span> the query <span class="hljs-built_in">string</span>. <span class="hljs-string">&#x27;age=32&#x27;</span></span></span><br><span class="hljs-params"><span class="hljs-function">    [FromQuery] age,</span></span><br><span class="hljs-params"><span class="hljs-function"></span></span><br><span class="hljs-params"><span class="hljs-function">    // The list of photos will be bound to the body of the request, typically <span class="hljs-keyword">in</span> JSON format.</span></span><br><span class="hljs-params"><span class="hljs-function">    [FromBody] List&lt;Photo&gt; photos,</span></span><br><span class="hljs-params"><span class="hljs-function"></span></span><br><span class="hljs-params"><span class="hljs-function">    // This will be bound <span class="hljs-keyword">from</span> the DI container.</span></span><br><span class="hljs-params"><span class="hljs-function">    [FromServices] ILogger&lt;UserController&gt; logger</span></span><br><span class="hljs-params"><span class="hljs-function"></span></span><br><span class="hljs-params"><span class="hljs-function">    </span>)</span><br>    &#123;<br>        <span class="hljs-comment">/* method implementation */</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Prefix"><a href="#Prefix" class="headerlink" title="Prefix"></a>Prefix</h2><p>Consider the following model</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Instructor</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Id &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> LastName &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>Parameter name</strong></p>
<p>If the model to be bound is a <code>parameter</code> named <code>instructorToUpdate</code>:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">OnPost</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>? id, Instructor instructorToUpdate</span>)</span><br></code></pre></td></tr></table></figure>

<p>Model binding starts by looking through the sources for the key <code>instructorToUpdate.Id</code>. If that isn’t found, it looks for <code>Id</code> without a prefix.</p>
<p><strong>Property name</strong></p>
<p>If the model to be bound is a <code>property</code> named <code>Instructor</code> of the <code>controller</code> or <code>PageModel</code> class:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">BindProperty</span>]<br><span class="hljs-keyword">public</span> Instructor Instructor &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br></code></pre></td></tr></table></figure>

<p>Model binding starts by looking through the sources for the key <code>Instructor.Id</code>. If that isn’t found, it looks for <code>Id</code> without a prefix.</p>
<p><strong>Custom prefix</strong></p>
<p>If the model to be bound is a parameter named <code>instructorToUpdate</code> and a <code>Bind</code> attribute specifies Instructor as the prefix:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// http://localhost:PORT/Home/Query?id=1&amp;instructor.id=2&amp;instructor.firstname=hamed&amp;instructor.lastname=fathi</span><br><br><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">OnPost</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>? id, [Bind(Prefix = <span class="hljs-string">&quot;Instructor&quot;</span></span>)] Instructor instructorToUpdate)</span><br></code></pre></td></tr></table></figure>

<h2 id="Targets"><a href="#Targets" class="headerlink" title="Targets"></a>Targets</h2><p>Model binding tries to find values for the following kinds of targets:</p>
<ul>
<li>Parameters of the controller action method that a request is routed to.</li>
<li>Parameters of the Razor Pages handler method that a request is routed to.</li>
<li>Public properties of a controller or PageModel class, if specified by attributes.</li>
</ul>
<p><strong>[BindProperty] attribute</strong></p>
<p>Can be applied to a public property of a <code>controller</code> or <code>PageModel</code> class to cause model binding to target that property:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EditModel</span> : <span class="hljs-title">InstructorsPageModel</span><br>&#123;<br>    [<span class="hljs-meta">BindProperty</span>]<br>    <span class="hljs-keyword">public</span> Instructor Instructor &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br></code></pre></td></tr></table></figure>

<p><strong>[BindProperties] attribute</strong></p>
<p>Can be applied to a <code>controller</code> or <code>PageModel</code> class to tell model binding to target all public properties of the class:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">BindProperties(SupportsGet = true)</span>]<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CreateModel</span> : <span class="hljs-title">InstructorsPageModel</span><br>&#123;<br>    <span class="hljs-keyword">public</span> Instructor Instructor &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br></code></pre></td></tr></table></figure>

<h2 id="Attributes-for-complex-type-targets"><a href="#Attributes-for-complex-type-targets" class="headerlink" title="Attributes for complex type targets"></a>Attributes for complex type targets</h2><p>Several built-in attributes are available for controlling model binding of complex types:</p>
<p><strong>[Bind] attribute</strong></p>
<p>Can be applied to a class or a method parameter. Specifies which properties of a model should be included in model binding. [Bind] does <strong>not</strong> affect input formatters.</p>
<p>In the following example, only the specified properties of the <code>Instructor</code> model are bound when any handler or action method is called:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">Bind(<span class="hljs-meta-string">&quot;LastName,FirstMidName,HireDate&quot;</span>)</span>]<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Instructor</span><br></code></pre></td></tr></table></figure>

<p>In the following example, only the specified properties of the <code>Instructor</code> model are bound when the <code>OnPost</code> method is called:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">HttpPost</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">OnPost</span>(<span class="hljs-params">[Bind(<span class="hljs-string">&quot;LastName,FirstMidName,HireDate&quot;</span></span>)] Instructor instructor)</span><br></code></pre></td></tr></table></figure>

<p><strong>[BindRequired] attribute</strong></p>
<p>Can only be applied to model properties, not to method parameters. Causes model binding to add a model state error if binding cannot occur for a model’s property. Here’s an example:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">InstructorWithCollection</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><br>    [<span class="hljs-meta">DataType(DataType.Date)</span>]<br>    [<span class="hljs-meta">DisplayFormat(DataFormatString = <span class="hljs-meta-string">&quot;&#123;0:yyyy-MM-dd&#125;&quot;</span>, ApplyFormatInEditMode = true)</span>]<br>    [<span class="hljs-meta">Display(Name = <span class="hljs-meta-string">&quot;Hire Date&quot;</span>)</span>]<br>    [<span class="hljs-meta">BindRequired</span>] <span class="hljs-comment">// HERE</span><br>    <span class="hljs-keyword">public</span> DateTime HireDate &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br></code></pre></td></tr></table></figure>

<p><strong>[BindNever] attribute</strong></p>
<p>Can only be applied to model properties, not to method parameters. Prevents model binding from setting a model’s property. Here’s an example:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">InstructorWithDictionary</span><br>&#123;<br>    [<span class="hljs-meta">BindNever</span>] <span class="hljs-comment">// HERE</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br></code></pre></td></tr></table></figure>

<h2 id="Custom-Model-Binding"><a href="#Custom-Model-Binding" class="headerlink" title="Custom Model Binding"></a>Custom Model Binding</h2><p>Model binding allows controller actions to work directly with model types (passed in as method arguments), rather than HTTP requests. Mapping between incoming request data and application models is handled by model binders. Developers can extend the built-in model binding functionality by implementing custom model binders (though typically, you don’t need to write your own provider).</p>
<p><strong>[ModelBinder]</strong></p>
<p>In this section we’ll implement a custom model binder that:</p>
<ul>
<li>Converts incoming request data into strongly typed key arguments.</li>
<li>Uses Entity Framework Core to fetch the associated entity.</li>
<li>Passes the associated entity as an argument to the action method.</li>
</ul>
<p>The following sample uses the <code>ModelBinder</code> attribute on the <code>Author</code> model:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">using</span> CustomModelBindingSample.Binders;<br><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;<br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">CustomModelBindingSample.Data</span><br>&#123;<br>    <span class="hljs-comment">// Applying ModelBinder Attribute on Model</span><br>    [<span class="hljs-meta">ModelBinder(BinderType = typeof(AuthorEntityBinder))</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Author</span><br>    &#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Id &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> GitHub &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Twitter &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> BlogUrl &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>In the preceding code, the <code>ModelBinder</code> attribute specifies the type of <code>IModelBinder</code> that should be used to bind <code>Author</code> action parameters.</p>
<p>The following <code>AuthorEntityBinder</code> class binds an <code>Author</code> parameter by fetching the entity from a data source using Entity Framework Core and an <code>authorId</code>:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AuthorEntityBinder</span> : <span class="hljs-title">IModelBinder</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> AuthorContext _context;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AuthorEntityBinder</span>(<span class="hljs-params">AuthorContext context</span>)</span><br>    &#123;<br>        _context = context;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Task <span class="hljs-title">BindModelAsync</span>(<span class="hljs-params">ModelBindingContext bindingContext</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (bindingContext == <span class="hljs-literal">null</span>)<br>        &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(bindingContext));<br>        &#125;<br><br>        <span class="hljs-keyword">var</span> modelName = bindingContext.ModelName;<br><br>        <span class="hljs-comment">// Try to fetch the value of the argument by name</span><br>        <span class="hljs-keyword">var</span> valueProviderResult = bindingContext.ValueProvider.GetValue(modelName);<br><br>        <span class="hljs-keyword">if</span> (valueProviderResult == ValueProviderResult.None)<br>        &#123;<br>            <span class="hljs-keyword">return</span> Task.CompletedTask;<br>        &#125;<br><br>        bindingContext.ModelState.SetModelValue(modelName, valueProviderResult);<br><br>        <span class="hljs-keyword">var</span> <span class="hljs-keyword">value</span> = valueProviderResult.FirstValue;<br><br>        <span class="hljs-comment">// Check if the argument value is null or empty</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">string</span>.IsNullOrEmpty(<span class="hljs-keyword">value</span>))<br>        &#123;<br>            <span class="hljs-keyword">return</span> Task.CompletedTask;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">int</span>.TryParse(<span class="hljs-keyword">value</span>, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> id))<br>        &#123;<br>            <span class="hljs-comment">// Non-integer arguments result in model state errors</span><br>            bindingContext.ModelState.TryAddModelError(<br>                modelName, <span class="hljs-string">&quot;Author Id must be an integer.&quot;</span>);<br><br>            <span class="hljs-keyword">return</span> Task.CompletedTask;<br>        &#125;<br><br>        <span class="hljs-comment">// Model will be null if not found, including for</span><br>        <span class="hljs-comment">// out of range id values (0, -3, etc.)</span><br>        <span class="hljs-keyword">var</span> model = _context.Authors.Find(id);<br>        bindingContext.Result = ModelBindingResult.Success(model);<br>        <span class="hljs-keyword">return</span> Task.CompletedTask;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>The following code shows how to use the <code>AuthorEntityBinder</code> in an action method:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">HttpGet(<span class="hljs-meta-string">&quot;get/&#123;authorId&#125;&quot;</span>)</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Get</span>(<span class="hljs-params">Author author</span>)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (author == <span class="hljs-literal">null</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> NotFound();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> Ok(author);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>The <code>ModelBinder</code> attribute can be used to apply the <code>AuthorEntityBinder</code> to parameters that don’t use default conventions:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// Applying ModelBinding Attribute on Action method</span><br>[<span class="hljs-meta">HttpGet(<span class="hljs-meta-string">&quot;&#123;id&#125;&quot;</span>)</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">GetById</span>(<span class="hljs-params">[ModelBinder(Name = <span class="hljs-string">&quot;id&quot;</span></span>)] Author author)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (author == <span class="hljs-literal">null</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> NotFound();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> Ok(author);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>In this example, since the name of the argument isn’t the default <code>authorId</code>, it’s specified on the parameter using the <code>ModelBinder</code> attribute. Both the controller and action method are simplified compared to looking up the entity in the action method. The logic to fetch the author using Entity Framework Core is moved to the model binder. This can be a considerable simplification when you have several methods that bind to the <code>Author</code> model.</p>
<p>You can apply the <code>ModelBinder</code> attribute to individual model properties (such as on a viewmodel) or to action method parameters to specify a certain model binder or model name for just that type or action.</p>
<p><strong>Implementing a ModelBinderProvider</strong></p>
<p>Instead of applying an attribute, you can implement <code>IModelBinderProvider</code>. This is how the built-in framework binders are implemented. When you specify the type your binder operates on, you specify the type of argument it produces, <strong>not</strong> the input your binder accepts. The following binder provider works with the <code>AuthorEntityBinder</code>. When it’s added to MVC’s collection of providers, you don’t need to use the <code>ModelBinder</code> attribute on <code>Author</code> or <code>Author</code>-typed parameters.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">using</span> CustomModelBindingSample.Data;<br><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc.ModelBinding;<br><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc.ModelBinding.Binders;<br><span class="hljs-keyword">using</span> System;<br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">CustomModelBindingSample.Binders</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AuthorEntityBinderProvider</span> : <span class="hljs-title">IModelBinderProvider</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> IModelBinder <span class="hljs-title">GetBinder</span>(<span class="hljs-params">ModelBinderProviderContext context</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (context == <span class="hljs-literal">null</span>)<br>            &#123;<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(context));<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (context.Metadata.ModelType == <span class="hljs-keyword">typeof</span>(Author))<br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BinderTypeModelBinder(<span class="hljs-keyword">typeof</span>(AuthorEntityBinder));<br>            &#125;<br><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>To use a custom model binder provider, add it in <code>ConfigureServices</code>:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureServices</span>(<span class="hljs-params">IServiceCollection services</span>)</span><br>&#123;<br>    services.AddDbContext&lt;AuthorContext&gt;(options =&gt; options.UseInMemoryDatabase(<span class="hljs-string">&quot;Authors&quot;</span>));<br><br>    services.AddControllers(options =&gt;<br>    &#123;<br>        options.ModelBinderProviders.Insert(<span class="hljs-number">0</span>, <span class="hljs-keyword">new</span> AuthorEntityBinderProvider());<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>When evaluating model binders, the collection of providers is examined in order. The first provider that returns a binder that matches the input model is used. Adding your provider to the end of the collection may thus result in a built-in model binder being called before your custom binder has a chance. In this example, the custom provider is added to the beginning of the collection to ensure it’s always used for <code>Author</code> action arguments.</p>
<h2 id="Validation"><a href="#Validation" class="headerlink" title="Validation"></a>Validation</h2><p>Data can come from many different sources in your web application—you could load it from files, read it from a database, or you could accept values that a user typed into a form in requests. Although you might be inclined to trust that the data already on your server is valid (though this is sometimes a dangerous assumption!), you definitely shouldn’t trust the data sent as part of a request.</p>
<p><strong>DataAnnotations</strong></p>
<p>Validation attributes, or more precisely <code>DataAnnotations</code> attributes, allow you to specify rules that the properties in your model should conform to. They provide metadata about your model by describing the sort of data the model should contain, as opposed to the data itself.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cs">Public <span class="hljs-keyword">class</span> <span class="hljs-title">UserBindingModel</span><br>&#123;<br>    [<span class="hljs-meta">Required</span>]<br>    [<span class="hljs-meta">StringLength(100)</span>]<br>    [<span class="hljs-meta">Display(Name = <span class="hljs-meta-string">&quot;Your name&quot;</span>)</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><br>    [<span class="hljs-meta">Required</span>]<br>    [<span class="hljs-meta">StringLength(100)</span>]<br>    [<span class="hljs-meta">Display(Name = <span class="hljs-meta-string">&quot;Last name&quot;</span>)</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> LastName &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><br>    [<span class="hljs-meta">Required</span>]<br>    [<span class="hljs-meta">EmailAddress</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Email &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><br>    [<span class="hljs-meta">Phone</span>]<br>    [<span class="hljs-meta">Display(Name = <span class="hljs-meta-string">&quot;Phone number&quot;</span>)</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> PhoneNumber &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Some of these attributes are:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[CreditCard]</td>
<td>Validates that a property has a valid credit card format.</td>
</tr>
<tr>
<td>[EmailAddress]</td>
<td>Validates that a property has a valid email address format.</td>
</tr>
<tr>
<td>[StringLength(max)]</td>
<td>Validates that a string has at most the max amount of characters.</td>
</tr>
<tr>
<td>[MinLength(min)]</td>
<td>Validates that a collection has at least the min amount of items.</td>
</tr>
<tr>
<td>[Phone]</td>
<td>Validates that a property has a valid phone number format.</td>
</tr>
<tr>
<td>[Range(min, max)]</td>
<td>Validates that a property has a value between min and max.</td>
</tr>
<tr>
<td>[RegularExpression(regex)]</td>
<td>Validates that a property conforms to the regex regular expression pattern</td>
</tr>
<tr>
<td>[Url]</td>
<td>Validates that a property has a valid URL format</td>
</tr>
<tr>
<td>[Required]</td>
<td>Indicates the property that must be provided</td>
</tr>
<tr>
<td>[Compare]</td>
<td>Allows you to confirm that two properties have the same value (for example, <code>Email</code> and <code>ConfirmEmail</code>)</td>
</tr>
<tr>
<td>[DataType(enum)]</td>
<td>This attribute is used to specify the datatype of the model - <code>CreditCard</code>, <code>Currency</code>, <code>Custom</code>, <code>Date</code>, <code>DateTime</code>, <code>Duration</code>, <code>EmailAddress</code>, <code>Html</code>, <code>ImageUrl</code>, <code>MultilineText</code>, <code>Password</code>, <code>PhoneNumber</code>, <code>PostalCode</code>, <code>Text</code>, <code>Time</code>, <code>Upload</code>, <code>Url</code></td>
</tr>
</tbody></table>
<p><strong>Custom DataAnnotations</strong></p>
<p>Imagine we want to restrict the address field value of a student to limited number of words. For example we might say 50 words is more than enough for an address field. You might also think that this type of validation (limiting a string to a maximum number of words) </p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">using</span> System.ComponentModel.DataAnnotations;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MaxWordAttributes</span> : <span class="hljs-title">ValidationAttribute</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _maxWords;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MaxWordAttributes</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> maxWords</span>)</span><br><span class="hljs-function">        : <span class="hljs-title">base</span>(<span class="hljs-params"><span class="hljs-string">&quot;&#123;0&#125; has to many words.&quot;</span></span>)</span><br>    &#123;<br>        _maxWords = maxWords;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> ValidationResult <span class="hljs-title">IsValid</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> <span class="hljs-keyword">value</span>, ValidationContext validationContext</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> ValidationResult.Success;<br>        <span class="hljs-keyword">var</span> textValue = <span class="hljs-keyword">value</span>.ToString();<br>        <span class="hljs-keyword">if</span> (textValue.Split(<span class="hljs-string">&#x27; &#x27;</span>).Length &lt;= _maxWords) <span class="hljs-keyword">return</span> ValidationResult.Success;<br>        <span class="hljs-keyword">var</span> errorMessage = FormatErrorMessage((validationContext.DisplayName));<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ValidationResult(errorMessage);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>And use it </p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">DataType(DataType.MultilineText)</span>]  <br>[<span class="hljs-meta">MaxWordAttributes(50, ErrorMessage=<span class="hljs-meta-string">&quot;There are too many words in &#123;0&#125;.&quot;</span>)</span>]  <br><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Address &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;  <br></code></pre></td></tr></table></figure>

<p><strong>Validating on the server</strong></p>
<p>Validation of the binding model occurs before the action executes, but note that the action always executes, whether the validation failed or succeeded. It’s the responsibility of the action method to handle the result of the validation</p>
<p>The <code>ModelState</code> is a property of a <code>Controller</code> and represents a collection of name and value pairs that were submitted to the server during a <code>POST</code>. It also contains a collection of error messages for each value submitted, this object is a <code>ModelStateDictionary</code>. Despite its name, it doesn’t actually know anything about any model classes, it only has names, values, and errors.</p>
<p>ModelState has two purposes: to store the value submitted to the server, and to store the validation errors associated with those values.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">if</span> (!ModelState.IsValid)<br>&#123;<br>    <span class="hljs-comment">// Do something about it!</span><br>    <span class="hljs-comment">// Usually return the user to the same page</span><br>    <span class="hljs-comment">// while showing the errors.</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>We have the <code>AddUserVM</code> view model:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AddUserVM</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> LastName &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> EmailAddress &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Also, we have the actions:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-comment">// Controllers/HomeController.cs</span><br><br>[<span class="hljs-meta">HttpPost</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult <span class="hljs-title">Add</span>(<span class="hljs-params">AddUserVM model</span>)</span><br>&#123;<br>    <span class="hljs-keyword">if</span>(!ModelState.IsValid)<br>    &#123;<br>        <span class="hljs-keyword">return</span> View(model);<br>    &#125;<br>    <span class="hljs-keyword">return</span> RedirectToAction(<span class="hljs-string">&quot;Index&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>Custom Validation</strong></p>
<p>But what if we needed to perform more complex validation than what is provided by attributes? Say we needed to validate that the first and last names are not identical, and display a particular error message when this happens.</p>
<p>We can actually add errors to the model state via the <code>AddModelError</code> method on <code>ModelStateDictionary</code>:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cs">[<span class="hljs-meta">HttpPost</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult <span class="hljs-title">Add</span>(<span class="hljs-params">AddUserVM model</span>)</span><br>&#123;<br>    <span class="hljs-keyword">if</span>(model.FirstName == model.LastName)<br>    &#123;<br>        <span class="hljs-comment">// HERE</span><br>        ModelState.AddModelError(<span class="hljs-string">&quot;LastName&quot;</span>, <span class="hljs-string">&quot;The last name cannot be the same as the first name.&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!ModelState.IsValid)<br>    &#123;<br>        <span class="hljs-keyword">return</span> View(model);<br>    &#125;<br>    <span class="hljs-keyword">return</span> RedirectToAction(<span class="hljs-string">&quot;Index&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Reference-s"><a href="#Reference-s" class="headerlink" title="Reference(s)"></a>Reference(s)</h2><p>Most of the information in this article has gathered from various references.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding">https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/advanced/custom-model-binding">https://docs.microsoft.com/en-us/aspnet/core/mvc/advanced/custom-model-binding</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tektutorialshub.com/asp-net-core/asp-net-core-model-binding/">https://www.tektutorialshub.com/asp-net-core/asp-net-core-model-binding/</a></li>
<li><a target="_blank" rel="noopener" href="https://wakeupandcode.com/forms-and-fields-in-asp-net-core/">https://wakeupandcode.com/forms-and-fields-in-asp-net-core/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.manning.com/books/asp-net-core-in-action">https://www.manning.com/books/asp-net-core-in-action</a></li>
<li><a target="_blank" rel="noopener" href="https://code-maze.com/file-upload-aspnetcore-mvc/">https://code-maze.com/file-upload-aspnetcore-mvc/</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/better-programming/the-anatomy-of-an-http-request-728a469ecba9">https://medium.com/better-programming/the-anatomy-of-an-http-request-728a469ecba9</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.zhaytam.com/2019/04/13/asp-net-core-checking-modelstate-isvalid-is-boring/">https://blog.zhaytam.com/2019/04/13/asp-net-core-checking-modelstate-isvalid-is-boring/</a></li>
<li><a target="_blank" rel="noopener" href="https://exceptionnotfound.net/asp-net-mvc-demystified-modelstate">https://exceptionnotfound.net/asp-net-mvc-demystified-modelstate</a></li>
<li><a target="_blank" rel="noopener" href="https://www.c-sharpcorner.com/article/custom-data-annotation-validation-in-mvc/">https://www.c-sharpcorner.com/article/custom-data-annotation-validation-in-mvc/</a></li>
</ul>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/dotnet/">dotnet</a><a class="link-muted mr-2" rel="tag" href="/tags/aspnetcore/">aspnetcore</a><a class="link-muted mr-2" rel="tag" href="/tags/webapi/">webapi</a><a class="link-muted mr-2" rel="tag" href="/tags/model/">model</a><a class="link-muted mr-2" rel="tag" href="/tags/binding/">binding</a><a class="link-muted mr-2" rel="tag" href="/tags/modelbinding/">modelbinding</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/a-professional-asp.net-core-middleware/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">A Professional ASP.NET Core - Middleware</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/a-professional-asp.net-core-api-caching/"><span class="level-item">A Professional ASP.NET Core API - Caching</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/pic.png" alt="Hamed Fathi"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Hamed Fathi</p><p class="is-size-6 is-block">Senior Software Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Austria</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">30</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">86</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://twitter.com/Hamed__Fathi" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hamedfathi"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/hamedfathi"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/Hamed__Fathi"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="StackOverflow" href="https://stackoverflow.com/users/3166171/hamedfathi"><i class="fab fa-stack-overflow"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/hamedfathi88"><i class="fab fa-facebook"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/aspnetcore/"><span class="level-start"><span class="level-item">aspnetcore</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/aspnetcore-api/"><span class="level-start"><span class="level-item">aspnetcore-api</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/aurelia/"><span class="level-start"><span class="level-item">aurelia</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/dotnet/"><span class="level-start"><span class="level-item">dotnet</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/amqp/"><span class="tag">amqp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/api/"><span class="tag">api</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aspnetcore/"><span class="tag">aspnetcore</span><span class="tag">22</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aurelia2/"><span class="tag">aurelia2</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/awesome/"><span class="tag">awesome</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/backgroundtask/"><span class="tag">backgroundtask</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/binding/"><span class="tag">binding</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bogus/"><span class="tag">bogus</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bootstrap5/"><span class="tag">bootstrap5</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cache/"><span class="tag">cache</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/caching/"><span class="tag">caching</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/chai/"><span class="tag">chai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cors/"><span class="tag">cors</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp9/"><span class="tag">csharp9</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css-in-js/"><span class="tag">css-in-js</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/default-interface-method/"><span class="tag">default-interface-method</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/di/"><span class="tag">di</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/distributed/"><span class="tag">distributed</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dotnet/"><span class="tag">dotnet</span><span class="tag">26</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dotnet5/"><span class="tag">dotnet5</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dryioc/"><span class="tag">dryioc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/e2e/"><span class="tag">e2e</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/easynetq/"><span class="tag">easynetq</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emotionjs/"><span class="tag">emotionjs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/end-to-end/"><span class="tag">end-to-end</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/exception/"><span class="tag">exception</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/extension-method/"><span class="tag">extension-method</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/fakedata/"><span class="tag">fakedata</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/feature/"><span class="tag">feature</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/featureflag/"><span class="tag">featureflag</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/featuremanagement/"><span class="tag">featuremanagement</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/file/"><span class="tag">file</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/fluentvalidation/"><span class="tag">fluentvalidation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/guard/"><span class="tag">guard</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/header/"><span class="tag">header</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/health/"><span class="tag">health</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/healthcheck/"><span class="tag">healthcheck</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/healthy/"><span class="tag">healthy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hostedservices/"><span class="tag">hostedservices</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/inmemory/"><span class="tag">inmemory</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ioc/"><span class="tag">ioc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jest/"><span class="tag">jest</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lerna/"><span class="tag">lerna</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/localization/"><span class="tag">localization</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/log/"><span class="tag">log</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/masstransit/"><span class="tag">masstransit</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/messagebroker/"><span class="tag">messagebroker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/middleware/"><span class="tag">middleware</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/miniprofiler/"><span class="tag">miniprofiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mixon/"><span class="tag">mixon</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mocha/"><span class="tag">mocha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/model/"><span class="tag">model</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/modelbinding/"><span class="tag">modelbinding</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/monorepository/"><span class="tag">monorepository</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openapi/"><span class="tag">openapi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pagination/"><span class="tag">pagination</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/paging/"><span class="tag">paging</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pipeline/"><span class="tag">pipeline</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/plugin/"><span class="tag">plugin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/polly/"><span class="tag">polly</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/profiler/"><span class="tag">profiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/puppeteer/"><span class="tag">puppeteer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/queue/"><span class="tag">queue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rabbitmq/"><span class="tag">rabbitmq</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ratelimit/"><span class="tag">ratelimit</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/refit/"><span class="tag">refit</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/request/"><span class="tag">request</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/resiliency/"><span class="tag">resiliency</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/response/"><span class="tag">response</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/roslyn/"><span class="tag">roslyn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rss/"><span class="tag">rss</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sourcegenerator/"><span class="tag">sourcegenerator</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sqlserver/"><span class="tag">sqlserver</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swagger/"><span class="tag">swagger</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tailwindcss/"><span class="tag">tailwindcss</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/test/"><span class="tag">test</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/testdata/"><span class="tag">testdata</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unhealthy/"><span class="tag">unhealthy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/upload/"><span class="tag">upload</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/validation/"><span class="tag">validation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/versioning/"><span class="tag">versioning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webapi/"><span class="tag">webapi</span><span class="tag">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webpack/"><span class="tag">webpack</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-28T00:00:00.000Z">2023-07-28</time></p><p class="title"><a href="/the-dotnet-world-mixin/">The .NET World - Mixin</a></p><p class="categories"><a href="/categories/dotnet/">dotnet</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-08T00:00:00.000Z">2020-12-08</time></p><p class="title"><a href="/the-dotnet-world-csharp-source-generator/">The .NET World - C# Source Generator</a></p><p class="categories"><a href="/categories/dotnet/">dotnet</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-09T00:00:00.000Z">2020-11-09</time></p><p class="title"><a href="/write-a-custom-plugin-with-aurelia-2-and-lerna/">Write a custom plugin with Aurelia 2 and Lerna</a></p><p class="categories"><a href="/categories/aurelia/">aurelia</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-10-23T00:00:00.000Z">2020-10-23</time></p><p class="title"><a href="/a-professional-asp.net-core-api-rabbitmq/">A Professional ASP.NET Core API - RabbitMQ</a></p><p class="categories"><a href="/categories/aspnetcore-api/">aspnetcore-api</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-10-22T00:00:00.000Z">2020-10-22</time></p><p class="title"><a href="/a-professional-asp.net-core-rss/">A Professional ASP.NET Core - RSS</a></p><p class="categories"><a href="/categories/aspnetcore/">aspnetcore</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/07/"><span class="level-start"><span class="level-item">July 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Hamed Fathi&#039;s Blog</a><p class="is-size-7"><span>&copy; 2023 Hamed Fathi</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>